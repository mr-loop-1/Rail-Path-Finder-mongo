{"ast":null,"code":"var _jsxFileName = \"/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js\";\nimport React, { useState } from 'react';\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\nimport Map from '../Map/map';\nimport './CityList.css';\nconst initialCity = \"newVice2\";\nlet allStations = [];\n(async () => {\n  await fetch(`http://localhost:4100/ida?city=${initialCity}`).then(res => {\n    return res.json();\n  }).then(data => {\n    allStations = data.toFill;\n  });\n})();\nconst CityList = props => {\n  let [activate, toggleActivate] = useState(false);\n  let [currentCity, updateCurrentCity] = useState(initialCity);\n  const updateCurrentCityHandler = async event => {\n    const currCity = event.target.value;\n    toggleActivate(true);\n    await fetch(`http://localhost:4100/ida?city=${currCity}`).then(res => {\n      return res.json();\n    }).then(data => {\n      allStations = data.toFill;\n    });\n    updateCurrentCity(old => currCity);\n    toggleActivate(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"cities\",\n    id: \"cityPicker\",\n    class: \"col3\",\n    onChange: updateCurrentCityHandler,\n    disabled: activate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, props.cities.map(city => {\n    return /*#__PURE__*/React.createElement(CityItem, {\n      city: city,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 28\n      }\n    });\n  })))), /*#__PURE__*/React.createElement(StationList, {\n    key: currentCity,\n    city: currentCity,\n    stations: allStations,\n    disabled: activate,\n    tgl: toggleActivate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Map, {\n    city: currentCity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }));\n};\nexport default CityList;","map":{"version":3,"names":["React","useState","CityItem","StationList","Map","initialCity","allStations","fetch","then","res","json","data","toFill","CityList","props","activate","toggleActivate","currentCity","updateCurrentCity","updateCurrentCityHandler","event","currCity","target","value","old","cities","map","city"],"sources":["/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js"],"sourcesContent":["import React, {useState} from 'react';\n\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\nimport Map from '../Map/map';\n\nimport './CityList.css';\n\nconst initialCity = \"newVice2\";\n\nlet allStations = [];\n\n(async () => {\nawait fetch(`http://localhost:4100/ida?city=${initialCity}`)\n        .then(\n            res => {\n                return res.json();\n            })\n        .then(\n            data => {\n                allStations = data.toFill;\n            })\n        })();\n\nconst CityList = (props) => {\n\n    let [activate, toggleActivate] = useState(false);\n    let [currentCity, updateCurrentCity] = useState(initialCity);\n    \n\n    const updateCurrentCityHandler = async (event) => {\n\n        const currCity = event.target.value;\n        toggleActivate(true);\n\n        await fetch(`http://localhost:4100/ida?city=${currCity}`)\n        .then(\n            res => {\n                return res.json();\n            })\n        .then(\n            data => {\n                allStations = data.toFill;\n            })\n\n        updateCurrentCity(old => currCity);\n\n        toggleActivate(false);\n    }\n\n    return (\n        <div class=\"col\">\n            <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col\">\n            <select name=\"cities\" id=\"cityPicker\" class=\"col3\" onChange={updateCurrentCityHandler} disabled={activate}>\n            {\n                props.cities.map(city => {\n                    return <CityItem city={city} />\n                })\n            }\n            </select>\n            </div>\n            </div>\n\n            <StationList key={currentCity} city={currentCity} stations={allStations} disabled={activate} tgl={toggleActivate} />\n            </div>\n\n            <Map city={currentCity} />\n\n        </div>\n    )\n}\n\nexport default CityList;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AAErC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,GAAG,MAAM,YAAY;AAE5B,OAAO,gBAAgB;AAEvB,MAAMC,WAAW,GAAG,UAAU;AAE9B,IAAIC,WAAW,GAAG,EAAE;AAEpB,CAAC,YAAY;EACb,MAAMC,KAAK,CAAE,kCAAiCF,WAAY,EAAC,CAAC,CACnDG,IAAI,CACDC,GAAG,IAAI;IACH,OAAOA,GAAG,CAACC,IAAI,EAAE;EACrB,CAAC,CAAC,CACLF,IAAI,CACDG,IAAI,IAAI;IACJL,WAAW,GAAGK,IAAI,CAACC,MAAM;EAC7B,CAAC,CAAC;AACN,CAAC,GAAG;AAEZ,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EAExB,IAAI,CAACC,QAAQ,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAChD,IAAI,CAACgB,WAAW,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAACI,WAAW,CAAC;EAG5D,MAAMc,wBAAwB,GAAG,MAAOC,KAAK,IAAK;IAE9C,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;IACnCP,cAAc,CAAC,IAAI,CAAC;IAEpB,MAAMT,KAAK,CAAE,kCAAiCc,QAAS,EAAC,CAAC,CACxDb,IAAI,CACDC,GAAG,IAAI;MACH,OAAOA,GAAG,CAACC,IAAI,EAAE;IACrB,CAAC,CAAC,CACLF,IAAI,CACDG,IAAI,IAAI;MACJL,WAAW,GAAGK,IAAI,CAACC,MAAM;IAC7B,CAAC,CAAC;IAENM,iBAAiB,CAACM,GAAG,IAAIH,QAAQ,CAAC;IAElCL,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,oBACI;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACZ;IAAK,KAAK,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACtB;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACZ;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACpB;IAAQ,IAAI,EAAC,QAAQ;IAAC,EAAE,EAAC,YAAY;IAAC,KAAK,EAAC,MAAM;IAAC,QAAQ,EAAEG,wBAAyB;IAAC,QAAQ,EAAEJ,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEtGD,KAAK,CAACW,MAAM,CAACC,GAAG,CAACC,IAAI,IAAI;IACrB,oBAAO,oBAAC,QAAQ;MAAC,IAAI,EAAEA,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EACnC,CAAC,CAAC,CAEG,CACH,CACA,eAEN,oBAAC,WAAW;IAAC,GAAG,EAAEV,WAAY;IAAC,IAAI,EAAEA,WAAY;IAAC,QAAQ,EAAEX,WAAY;IAAC,QAAQ,EAAES,QAAS;IAAC,GAAG,EAAEC,cAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAC9G,eAEN,oBAAC,GAAG;IAAC,IAAI,EAAEC,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAExB;AAEd,CAAC;AAED,eAAeJ,QAAQ"},"metadata":{},"sourceType":"module"}