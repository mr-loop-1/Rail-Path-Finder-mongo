{"ast":null,"code":"var _jsxFileName = \"/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js\";\nimport React, { useState } from 'react';\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\nconst CityList = props => {\n  let [activate, toggleActivate] = useState(false);\n  let currentCity = \"newVice2\";\n\n  // let [currentCity, updateCurrentCity] = useState(\"Vice\");\n  let [currentStations, updateStations] = useState();\n\n  // let station1, station2;\n\n  let allStations = [];\n  const updateCurrentCityHandler = async event => {\n    currentCity = event.target.value;\n    toggleActivate(true);\n    await fetch(`http://localhost:4100/ida?city=${currentCity}`).then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(\"marker 2\");\n      allStations = data.toFill;\n    });\n    updateStationCity(old => {\n      console.log(\"marker 4\");\n      return {\n        station1: allStations[0],\n        station2: allStations[0]\n      };\n    });\n    console.log(\"marker \");\n    console.log(allStations);\n\n    // console.log(station1, station2);\n\n    toggleActivate(false);\n  };\n  async function stall() {\n    let stallTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5000;\n    await new Promise(resolve => {\n      return setTimeout(resolve, stallTime);\n    });\n    console.log('It will be printed 2-nd with delay');\n  }\n  const calculateBtnHandler = async () => {\n    console.log(\"start\");\n    console.log(\"city\", currentCity);\n    // console.dir(currentStations);\n    //! enable same disables\n\n    toggleActivate(true);\n\n    //* mimcking the await of call to backend\n\n    await stall();\n    toggleActivate(false);\n    console.log('end');\n  };\n  const updateStationss = () => {};\n\n  // console.log(currentCity);\n  // console.log(\"here\");\n  // console.dir(currentStations);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Here\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"cities\",\n    id: \"cityPicker\",\n    onChange: updateCurrentCityHandler,\n    disabled: activate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, props.cities.map(city => {\n    return /*#__PURE__*/React.createElement(CityItem, {\n      city: city,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 28\n      }\n    });\n  })), /*#__PURE__*/React.createElement(StationList, {\n    currSt: currentStations,\n    stations: allStations,\n    pickerId: 1,\n    cb: updateStationss,\n    disabled: activate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StationList, {\n    currSt: currentStations,\n    stations: allStations,\n    pickerId: 2,\n    cb: updateStationss,\n    disabled: activate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: calculateBtnHandler,\n    disabled: activate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Calculate\"));\n};\nexport default CityList;","map":{"version":3,"names":["React","useState","CityItem","StationList","CityList","props","activate","toggleActivate","currentCity","currentStations","updateStations","allStations","updateCurrentCityHandler","event","target","value","fetch","then","res","json","data","console","log","toFill","updateStationCity","old","station1","station2","stall","stallTime","Promise","resolve","setTimeout","calculateBtnHandler","updateStationss","cities","map","city"],"sources":["/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js"],"sourcesContent":["import React, {useState} from 'react';\n\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\n\nconst CityList = (props) => {\n\n    let [activate, toggleActivate] = useState(false);\n\n    let currentCity = \"newVice2\";\n\n    // let [currentCity, updateCurrentCity] = useState(\"Vice\");\n    let [currentStations, updateStations] = useState();\n\n    // let station1, station2;\n\n    let allStations = [];\n\n    const updateCurrentCityHandler = async (event) => {\n\n        currentCity = event.target.value;\n        toggleActivate(true);\n\n        await fetch(`http://localhost:4100/ida?city=${currentCity}`)\n        .then(\n            res => {\n                return res.json();\n            })\n        .then(\n            data => {\n                console.log(\"marker 2\");\n                allStations = data.toFill;\n            })\n\n        updateStationCity(old => {\n            console.log(\"marker 4\");\n            return {\n                station1: allStations[0],\n                station2: allStations[0]\n            };\n        })\n\n\n        console.log(\"marker \");\n        console.log(allStations);\n\n        // console.log(station1, station2);\n\n\n        toggleActivate(false);\n    }\n\n\n\n\n\n\n    async function stall(stallTime = 5000) {\n        await new Promise(resolve => {\n            \n            return setTimeout(resolve, stallTime);\n        });\n        console.log('It will be printed 2-nd with delay');\n      }\n\n    const calculateBtnHandler = async () => {\n        console.log(\"start\");\n\n        console.log(\"city\", currentCity);\n        // console.dir(currentStations);\n        //! enable same disables\n\n        toggleActivate(true);\n\n        //* mimcking the await of call to backend\n\n        await stall();\n\n        toggleActivate(false);\n\n        console.log('end');\n    }\n\n    const updateStationss = () => {\n\n    }\n\n    // console.log(currentCity);\n    // console.log(\"here\");\n    // console.dir(currentStations);\n\n    return (\n        <div>\n            <h1>Here</h1>\n            <select name=\"cities\" id=\"cityPicker\" onChange={updateCurrentCityHandler} disabled={activate}>\n            {\n                props.cities.map(city => {\n                    return <CityItem city={city} />\n                })\n            }\n            </select>\n\n            <StationList currSt={currentStations} stations={allStations} pickerId={1} cb={updateStationss} disabled={activate} />\n            <StationList currSt={currentStations} stations={allStations} pickerId={2} cb={updateStationss} disabled={activate} />\n\n\n            <button type=\"submit\" onClick={calculateBtnHandler} disabled={activate}>Calculate</button>\n        </div>\n    )\n}\n\nexport default CityList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}