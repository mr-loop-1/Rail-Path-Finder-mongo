{"ast":null,"code":"var _jsxFileName = \"/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js\";\nimport React, { useState } from 'react';\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\nconst CityList = props => {\n  // props.cities is an array of city names and ids\n\n  const allCityStations = {\n    Vice: [{\n      id: 121,\n      name: \"A\"\n    }, {\n      id: 122,\n      name: \"B\"\n    }, {\n      id: 123,\n      name: \"C\"\n    }],\n    Delhi: [{\n      id: 221,\n      name: \"AA\"\n    }, {\n      id: 222,\n      name: \"BB\"\n    }]\n  };\n  let [currentCity, updateCurrentCity] = useState(\"Vice\");\n  let [currentStations, updateCurrentStations] = useState({\n    city1: allCityStations[currentCity][0].id,\n    city2: allCityStations[currentCity][0].id\n  });\n  const updateCurrentCityHandler = event => {\n    //? GET DATA OF STATION LIST HERE\n\n    //! trigger disables\n    //* async code awaited in self functions\n    //* here we only have to pass the city name and we have that already in event.target.value\n\n    const curr = event.target.value;\n    updateCurrentCity(old => {\n      updateCurrentStations(old => ({\n        city1: allCityStations[curr][0].id,\n        city2: allCityStations[curr][0].id\n      }));\n      return curr;\n    });\n\n    //* async code to fill both station lists\n\n    //! de-trigger disables\n\n    // console.log(curr);\n  };\n\n  const calculateBtnHandler = () => {\n    console.log(\"start\");\n    console.log(\"city\", currentCity);\n    console.dir(currentStations);\n    //! enable same disables\n\n    //* mimcking the await of call to backend\n\n    setTimeout(() => {\n\n      //! remove same disables\n    }, 5000);\n    console.log('end');\n  };\n\n  // console.log(currentCity);\n  // console.log(\"here\");\n  // console.dir(currentStations);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Here\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"cities\",\n    id: \"cityPicker\",\n    onChange: updateCurrentCityHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, props.cities.map(city => {\n    return /*#__PURE__*/React.createElement(CityItem, {\n      city: city,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 28\n      }\n    });\n  })), /*#__PURE__*/React.createElement(StationList, {\n    stations: allCityStations[currentCity],\n    pickerId: 1,\n    updateCurrentStations: updateCurrentStations,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StationList, {\n    stations: allCityStations[currentCity],\n    pickerId: 2,\n    updateCurrentStations: updateCurrentStations,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: calculateBtnHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Calculate\"));\n};\nexport default CityList;","map":{"version":3,"names":["React","useState","CityItem","StationList","CityList","props","allCityStations","Vice","id","name","Delhi","currentCity","updateCurrentCity","currentStations","updateCurrentStations","city1","city2","updateCurrentCityHandler","event","curr","target","value","old","calculateBtnHandler","console","log","dir","setTimeout","cities","map","city"],"sources":["/home/mrloop/Code/react/testing2/src/controllers/City/CityList.js"],"sourcesContent":["import React, {useState} from 'react';\n\nimport CityItem from './CityItem';\nimport StationList from '../Station/stationList';\n\nconst CityList = (props) => {\n\n    // props.cities is an array of city names and ids\n\n    const allCityStations = {\n        Vice: [\n            {id: 121, name: \"A\"},\n            {id: 122, name: \"B\"},\n            {id: 123, name: \"C\"}\n        ],\n        Delhi: [\n            {id: 221, name: \"AA\"},\n            {id: 222, name: \"BB\"}\n        ]\n    };\n\n    let [currentCity, updateCurrentCity] = useState(\"Vice\");\n\n    let [currentStations, updateCurrentStations] = useState({\n        city1: allCityStations[currentCity][0].id,\n        city2: allCityStations[currentCity][0].id\n    });\n\n    const updateCurrentCityHandler = (event) => {\n\n        //? GET DATA OF STATION LIST HERE\n\n        //! trigger disables\n        //* async code awaited in self functions\n        //* here we only have to pass the city name and we have that already in event.target.value\n\n        const curr = event.target.value;\n        updateCurrentCity(old => {\n            updateCurrentStations(old => ({\n                city1: allCityStations[curr][0].id,\n                city2: allCityStations[curr][0].id\n            }));\n            return curr;\n        });\n\n        //* async code to fill both station lists\n\n        //! de-trigger disables\n        \n        // console.log(curr);\n    }\n\n    const calculateBtnHandler = () => {\n        console.log(\"start\");\n\n        console.log(\"city\", currentCity);\n        console.dir(currentStations);\n        //! enable same disables\n\n        //* mimcking the await of call to backend\n\n        setTimeout(() => {\n            \n            //! remove same disables\n        }, 5000);\n\n        console.log('end');\n    }\n\n    // console.log(currentCity);\n    // console.log(\"here\");\n    // console.dir(currentStations);\n\n    return (\n        <div>\n            <h1>Here</h1>\n            <select name=\"cities\" id=\"cityPicker\" onChange={updateCurrentCityHandler}>\n            {\n                props.cities.map(city => {\n                    return <CityItem city={city} />\n                })\n            }\n            </select>\n\n            <StationList stations={allCityStations[currentCity]} pickerId={1} updateCurrentStations={updateCurrentStations} />\n            <StationList stations={allCityStations[currentCity]} pickerId={2} updateCurrentStations={updateCurrentStations} />\n\n\n            <button type=\"submit\" onClick={calculateBtnHandler}>Calculate</button>\n        </div>\n    )\n}\n\nexport default CityList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}